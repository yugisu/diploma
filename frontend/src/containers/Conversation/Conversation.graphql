query GetConversation($conversationId: String!) {
  conversation(where: { id: $conversationId }) {
    id
    title
    participants {
      profile {
        id
        user {
          name
        }
      }
    }
    messages {
      id
      content
      createdAt
      # TODO: Move fetching of this data to <Message /> component to enable extensive caching
      createdByProfile {
        id
        user {
          name
        }
      }
    }
  }
}

mutation SendMessage($conversationId: String!, $content: String!) {
  sendMessage(conversationId: $conversationId, content: $content) {
    id
    content
    createdAt
    createdById
  }
}
